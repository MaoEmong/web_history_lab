# 웹 서버의 역사 4세대: MVC 구조 (Model 2)

이 프로젝트는 웹 서버 진화의 4세대에 해당하는 MVC(Model 2) 구조를 간단한 예제로 설명한다.  
요청 처리와 화면(혹은 응답)을 분리하면서, 규모가 커져도 유지보수가 가능한 구조로 발전한 흐름을 이해하는 것이 목표다.  
즉, "한 파일에 모든 책임을 몰아두던 방식"에서 "역할을 나눠 협업 가능한 구조"로 옮겨가는 전환점을 보여준다.

## 한 줄 요약

- 컨트롤러가 요청을 분리해 처리하고, 응답을 책임지는 구조로 확장성과 유지보수성이 크게 좋아졌다.

## 배경과 전환점

- 3세대(Model 1)는 빠르게 만들 수 있지만, 로직과 뷰가 섞여 복잡해지기 쉬웠다.
- MVC는 역할을 나눠 책임을 분산하고, 변경 영향을 최소화하는 방향으로 발전했다.
- 규모가 커질수록 "어디를 고쳐야 하는지"가 불명확해지는 문제를 구조적으로 해결하려는 시도였다.

## 핵심 개념

- Controller: 요청을 받아 로직을 수행하고 응답을 결정
- Routing: URL과 컨트롤러 메서드의 매핑
- 역할 분리: 비즈니스 로직과 표현 로직의 경계가 명확해짐
- 확장 지점: 서비스/리포지토리 계층으로 자연스럽게 분화 가능

## 예시 코드 구성

- `src/main/java/com/example/v4/BoardController.java`
  - `/insert`, `/delete`, `/update` 요청 처리
- `src/main/java/com/example/v4/UserController.java`
  - `/join` 요청 처리

## 요청-응답 흐름(개념)

1. 브라우저가 URL 요청
2. Dispatcher가 컨트롤러로 라우팅
3. 컨트롤러가 로직 수행
4. 응답 반환 (예제에서는 문자열 응답)

## 실습 포인트

- URL 별로 컨트롤러 메서드가 분리되는 구조 확인
- 요청 처리 책임이 명확히 나뉘면서 코드가 읽기 쉬워짐
- 이후 템플릿 엔진/서비스/리포지토리로 확장되는 기반 체험
- 한 파일에 몰아둔 로직이 유지보수 비용을 높인다는 점을 체감

## 무엇이 달라졌나

- Model 1: 요청 처리와 화면 조립이 한 파일에 결합됨
- Model 2(MVC): 요청 처리(Controller)와 응답 구성의 책임이 분리됨
- 결과: 코드의 의도가 또렷해지고, 변경 범위가 줄어듦

## 장점과 트레이드오프

- 장점
  - 역할 분리로 협업과 테스트가 쉬워짐
  - 기능 추가 시 코드 영향 범위를 예측하기 쉬움
- 트레이드오프
  - 초기 구조 설계가 필요해 학습 비용이 증가
  - 작은 프로젝트에서는 오버엔지니어링으로 느껴질 수 있음

## 확장 방향

- 컨트롤러와 서비스/리포지토리 계층을 분리해 도메인 로직을 독립화
- 템플릿 엔진 또는 API 응답(JSON)으로 표현 계층을 분기
- 공통 예외 처리와 로깅을 중앙에서 관리하는 구조로 확장
